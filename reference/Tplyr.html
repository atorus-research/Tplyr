<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='`r lifecycle::badge("experimental")`'><title>A grammar of summary data for clinical reports — Tplyr • Tplyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="A grammar of summary data for clinical reports — Tplyr"><meta property="og:description" content='`r lifecycle::badge("experimental")`'><meta property="og:image" content="https://atorus-research.github.io/Tplyr/reference/figures/Atorus_Stickers_vF_Tplyr.png"><meta property="og:image:alt" content="Tplyr Hex Sticker"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@AtorusR"><meta name="twitter:site" content="@AtorusR"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165685385-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165685385-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Tplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/Tplyr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Table Basics</h6>
    <a class="dropdown-item" href="../articles/table.html">Tplyr Table Properties</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Layer Basics</h6>
    <a class="dropdown-item" href="../articles/desc.html">Descriptive Statistic Layers</a>
    <a class="dropdown-item" href="../articles/count.html">Count Layers</a>
    <a class="dropdown-item" href="../articles/shift.html">Shift Layers</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Table Customization</h6>
    <a class="dropdown-item" href="../articles/general_string_formatting.html">General String Formatting</a>
    <a class="dropdown-item" href="../articles/desc_layer_formatting.html">Advanced Descriptive Statistic Layer Formatting</a>
    <a class="dropdown-item" href="../articles/sort.html">Sorting a Tplyr Table</a>
    <a class="dropdown-item" href="../articles/denom.html">Totals, Missings, and Denominators</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Metadata</h6>
    <a class="dropdown-item" href="../articles/metadata.html">Tplyr Metadata</a>
    <a class="dropdown-item" href="../articles/custom-metadata.html">Creating Custom Tplyr Metadata</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced</h6>
    <a class="dropdown-item" href="../articles/riskdiff.html">Risk Difference</a>
    <a class="dropdown-item" href="../articles/options.html">Tplyr Options</a>
    <a class="dropdown-item" href="../articles/layer_templates.html">Layer Templates</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Post-processing</h6>
    <a class="dropdown-item" href="../articles/post_processing.html">Post-Processing</a>
    <a class="dropdown-item" href="../articles/styled-table.html">Producing a Styled Table</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/atorus-research/Tplyr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A grammar of summary data for clinical reports</h1>
      <small class="dont-index">Source: <a href="https://github.com/atorus-research/Tplyr/blob/main/R/zzz.R" class="external-link"><code>R/zzz.R</code></a></small>
      <div class="d-none name"><code>Tplyr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>`r lifecycle::badge("experimental")`</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>'Tplyr' is a package dedicated to simplifying the data manipulation necessary
to create clinical reports. Clinical data summaries can often be broken down
into two factors - counting discrete variables (or counting shifts in state),
and descriptive statistics around a continuous variable. Many of the reports
that go into a clinical report are made up of these two scenarios. By
abstracting this process away, 'Tplyr' allows you to rapidly build these
tables without worrying about the underlying data manipulation.</p>
<p>'Tplyr' takes this process a few steps further by abstracting away most of
the programming that goes into proper presentation, which is where a great
deal of programming time is spent. For example, 'Tplyr' allows you to easily
control:</p>
<dl><dt><strong>String formatting</strong></dt>
<dd><p>Different reports warrant
different presentation of your strings. Programming this can get tedious, as
you typically want to make sure that your decimals properly align. 'Tplyr'
abstracts this process away and provides you with a simple interface to
specify how you want your data presented</p></dd>
 <dt><strong>Treatment
groups</strong></dt>
<dd><p>Need a total column? Need to group summaries of multiple treatments?
'Tplyr' makes it simple to add additional treatment groups into your report</p></dd>

<dt><strong>Denominators</strong></dt>
<dd><p>n (%) counts often vary based on the summary
being performed. 'Tplyr' allows you to easily control what denominators are
used based on a few common scenarios</p></dd>
 <dt><strong>Sorting</strong></dt>
<dd><p>Summarizing
data is one thing, but ordering it for presentation. Tplyr automatically
derives sorting variable to give you the data you need to order your table
properly. This process is flexible so you can easily get what you want by
leveraging your data or characteristics of R.</p></dd>
 
</dl><p>Another powerful aspect of 'Tplyr' are the objects themselves. 'Tplyr' does
more than format your data. Metadata about your table is kept under the hood,
and functions allow you to access information that you need. For example,
'Tplyr' allows you to calculate and access the raw numeric data of
calculations as well, and easily pick out just the pieces of information that
you need.</p>
<p>Lastly, 'Tplyr' was built to be flexible, yet intuitive. A common pitfall of
building tools like this is over automation. By doing to much, you end up not
doing enough. 'Tplyr' aims to hit the sweet spot in between. Additionally, we
designed our function interfaces to be clean. Modifier functions offer you
flexibility when you need it, but defaults can be set to keep the code
concise. This allows you to quickly assemble your table, and easily make
changes where necessary.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://github.com/atorus-research/Tplyr" class="external-link">https://github.com/atorus-research/Tplyr</a></p></li>
<li><p>Report bugs at <a href="https://github.com/atorus-research/Tplyr/issues" class="external-link">https://github.com/atorus-research/Tplyr/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Mike Stackhouse <a href="mailto:mike.stackhouse@atorusresearch.com">mike.stackhouse@atorusresearch.com</a> (<a href="https://orcid.org/0000-0001-6030-723X" class="external-link">ORCID</a>)</p>
<p>Authors:</p><ul><li><p>Eli Miller <a href="mailto:Eli.Miller@AtorusResearch.com">Eli.Miller@AtorusResearch.com</a> (<a href="https://orcid.org/0000-0002-2127-9456" class="external-link">ORCID</a>)</p></li>
<li><p>Ashley Tarasiewicz <a href="mailto:Ashley.Tarasiewicz@atorusresearch.com">Ashley.Tarasiewicz@atorusresearch.com</a></p></li>
</ul><p>Other contributors:</p><ul><li><p>Nathan Kosiba <a href="mailto:Nathan.Kosiba@atorusresearch.com">Nathan.Kosiba@atorusresearch.com</a> (<a href="https://orcid.org/0000-0001-5359-4234" class="external-link">ORCID</a>) [contributor]</p></li>
<li><p>Sadchla Mascary <a href="mailto:sadchla.mascary@atorusresearch.com">sadchla.mascary@atorusresearch.com</a> [contributor]</p></li>
<li><p>Atorus Research LLC [copyright holder]</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load in pipe</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use just the defaults</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_desc</a></span><span class="op">(</span><span class="va">mpg</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_count</a></span><span class="op">(</span><span class="va">carb</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 36 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    row_label1 row_label2 var1_3           var1_4  var1_5 ord_l…¹ ord_l…² ord_l…³</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 4          n          <span style="color: #949494;">"</span>  1<span style="color: #949494;">"</span>            <span style="color: #949494;">"</span>  8<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>  2<span style="color: #949494;">"</span>        1       1       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 4          Mean (SD)  <span style="color: #949494;">"</span>21.50 (      )<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>26.92… <span style="color: #949494;">"</span>28.2…       1       1       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 4          Median     <span style="color: #949494;">"</span>21.50<span style="color: #949494;">"</span>          <span style="color: #949494;">"</span>25.85<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>28.2…       1       1       3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 4          Q1, Q3     <span style="color: #949494;">"</span>21.50, 21.50<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>22.80… <span style="color: #949494;">"</span>27.1…       1       1       4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 4          Min, Max   <span style="color: #949494;">"</span>21.5, 21.5<span style="color: #949494;">"</span>     <span style="color: #949494;">"</span>21.4,… <span style="color: #949494;">"</span>26.0…       1       1       5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 4          Missing    <span style="color: #949494;">"</span>  0<span style="color: #949494;">"</span>            <span style="color: #949494;">"</span>  0<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>  0<span style="color: #949494;">"</span>        1       1       6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 6          n          <span style="color: #949494;">"</span>  2<span style="color: #949494;">"</span>            <span style="color: #949494;">"</span>  4<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>  1<span style="color: #949494;">"</span>        1       2       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 6          Mean (SD)  <span style="color: #949494;">"</span>19.75 ( 2.333)<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>19.75… <span style="color: #949494;">"</span>19.7…       1       2       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 6          Median     <span style="color: #949494;">"</span>19.75<span style="color: #949494;">"</span>          <span style="color: #949494;">"</span>20.10<span style="color: #949494;">"</span> <span style="color: #949494;">"</span>19.7…       1       2       3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 6          Q1, Q3     <span style="color: #949494;">"</span>18.92, 20.57<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span>18.85… <span style="color: #949494;">"</span>19.7…       1       2       4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 26 more rows, and abbreviated variable names ¹​ord_layer_index,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ²​ord_layer_1, ³​ord_layer_2</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Customize and modify</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">gear</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_desc</a></span><span class="op">(</span><span class="va">mpg</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="st">"n"</span>         <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xx"</span>, <span class="va">n</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="st">"Mean (SD)"</span> <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"a.a+1 (a.a+2)"</span>, <span class="va">mean</span>, <span class="va">sd</span>, empty<span class="op">=</span><span class="st">'NA'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="st">"Median"</span>    <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"a.a+1"</span>, <span class="va">median</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="st">"Q1, Q3"</span>    <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"a, a"</span>, <span class="va">q1</span>, <span class="va">q3</span>, empty<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>.overall<span class="op">=</span><span class="st">'NA'</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="st">"Min, Max"</span>  <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"a, a"</span>, <span class="va">min</span>, <span class="va">max</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="st">"Missing"</span>   <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xx"</span>, <span class="va">missing</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_count</a></span><span class="op">(</span><span class="va">carb</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="add_risk_diff.html">add_risk_diff</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'5'</span>, <span class="st">'3'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'4'</span>, <span class="st">'3'</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        n_counts <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">'xx (xx%)'</span>, <span class="va">n</span>, <span class="va">pct</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        riskdiff <span class="op">=</span> <span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">'xx.xxx (xx.xxx, xx.xxx)'</span>, <span class="va">dif</span>, <span class="va">low</span>, <span class="va">high</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="ordering.html">set_order_count_method</a></span><span class="op">(</span><span class="st">"bycount"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="ordering.html">set_ordering_cols</a></span><span class="op">(</span><span class="st">'4'</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="ordering.html">set_result_order_var</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 36 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    row_la…¹ row_l…² var1_3 var1_4 var1_5 ord_l…³ ord_l…⁴ ord_l…⁵ rdiff…⁶ rdiff…⁷</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 4        n       <span style="color: #949494;">"</span> 1<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 8<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 2<span style="color: #949494;">"</span>         1       1       1 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 4        Mean (… <span style="color: #949494;">"</span>21.5… <span style="color: #949494;">"</span>26.9… <span style="color: #949494;">"</span>28.2…       1       1       2 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 4        Median  <span style="color: #949494;">"</span>21.5… <span style="color: #949494;">"</span>25.8… <span style="color: #949494;">"</span>28.2…       1       1       3 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 4        Q1, Q3  <span style="color: #949494;">"</span>22, … <span style="color: #949494;">"</span>23, … <span style="color: #949494;">"</span>27, …       1       1       4 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 4        Min, M… <span style="color: #949494;">"</span>22, … <span style="color: #949494;">"</span>21, … <span style="color: #949494;">"</span>26, …       1       1       5 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 4        Missing <span style="color: #949494;">"</span> 0<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 0<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 0<span style="color: #949494;">"</span>         1       1       6 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 6        n       <span style="color: #949494;">"</span> 2<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 4<span style="color: #949494;">"</span>   <span style="color: #949494;">"</span> 1<span style="color: #949494;">"</span>         1       2       1 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 6        Mean (… <span style="color: #949494;">"</span>19.7… <span style="color: #949494;">"</span>19.7… <span style="color: #949494;">"</span>19.7…       1       2       2 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 6        Median  <span style="color: #949494;">"</span>19.7… <span style="color: #949494;">"</span>20.1… <span style="color: #949494;">"</span>19.7…       1       2       3 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 6        Q1, Q3  <span style="color: #949494;">"</span>19, … <span style="color: #949494;">"</span>19, … <span style="color: #949494;">"</span>20, …       1       2       4 <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 26 more rows, and abbreviated variable names ¹​row_label1, ²​row_label2,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​ord_layer_index, ⁴​ord_layer_1, ⁵​ord_layer_2, ⁶​rdiff_5_3, ⁷​rdiff_4_3</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A Shift Table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_shift</a></span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span>row<span class="op">=</span><span class="va">gear</span>, column<span class="op">=</span><span class="va">carb</span><span class="op">)</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span><span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xxx (xx.xx%)"</span>, <span class="va">n</span>, <span class="va">pct</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_label1 row_label2 var1_0_1 var1_…¹ var1_…² var1_…³ var1_…⁴ var1_…⁵ var1_…⁶</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 4          3          <span style="color: #949494;">"</span>  1 (3… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 4          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  4 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 4          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 6          3          <span style="color: #949494;">"</span>  2 (5… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 6          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 6          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> 8          3          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  4 (… <span style="color: #949494;">"</span>  3 (… <span style="color: #949494;">"</span>  5 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> 8          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> 8          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 8 more variables: var1_1_2 &lt;chr&gt;, var1_1_3 &lt;chr&gt;, var1_1_4 &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   var1_1_6 &lt;chr&gt;, var1_1_8 &lt;chr&gt;, ord_layer_index &lt;int&gt;, ord_layer_1 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ord_layer_2 &lt;dbl&gt;, and abbreviated variable names ¹​var1_0_2, ²​var1_0_3,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​var1_0_4, ⁴​var1_0_6, ⁵​var1_0_8, ⁶​var1_1_1</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Eli Miller, Mike Stackhouse, Ashley Tarasiewicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

