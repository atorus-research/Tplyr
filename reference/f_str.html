<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a f_str object — f_str • Tplyr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a f_str object — f_str" />
<meta property="og:description" content="f_str objects are intended to be used within the function
set_format_strings. The f_str object carries information that
powers a significant amount of layer processing. The format_string
parameter is capable of controlling the display of a data point and decimal
precision. The variables provided in ... control which data points are
used to populate the string formatted output." />
<meta property="og:image" content="/reference/figures/Atorus_Stickers_vF_Tplyr.png" />
<meta property="og:image:alt" content="Tplyr Hex Sticker" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@AtorusR" />
<meta name="twitter:site" content="@AtorusR" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165685385-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165685385-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Tplyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Tplyr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Table Vignettes</li>
    <li>
      <a href="../articles/table.html">Tplyr Table Properties</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Layer Vignettes</li>
    <li>
      <a href="../articles/desc.html">Descriptive Statistic Layers</a>
    </li>
    <li>
      <a href="../articles/count_shift.html">Count and Shift Tables</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Helpers</li>
    <li>
      <a href="../articles/riskdiff.html">Risk Difference</a>
    </li>
    <li>
      <a href="../articles/sort.html">Sorting a Tplyr Table</a>
    </li>
    <li>
      <a href="../articles/options.html">Tplyr Options</a>
    </li>
    <li>
      <a href="../articles/styled-table.html">Producing a Styled Table</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/atorus-research/Tplyr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a <code>f_str</code> object</h1>
    <small class="dont-index">Source: <a href='https://github.com/atorus-research/Tplyr/blob/master/R/format.R'><code>R/format.R</code></a></small>
    <div class="hidden name"><code>f_str.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>f_str</code> objects are intended to be used within the function
<code>set_format_strings</code>. The <code>f_str</code> object carries information that
powers a significant amount of layer processing. The <code>format_string</code>
parameter is capable of controlling the display of a data point and decimal
precision. The variables provided in <code>...</code> control which data points are
used to populate the string formatted output.</p>
    </div>

    <pre class="usage"><span class='fu'>f_str</span><span class='op'>(</span><span class='va'>format_string</span>, <span class='va'>...</span>, empty <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>.overall <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>format_string</th>
      <td><p>The desired display format. X's indicate digits. On the
left, the number of x's indicates the integer length. On the right, the
number of x's controls decimal precision and rounding. Variables are
inferred by any separation of the 'x' values other than a decimal.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>The variables to be formatted using the format specified in
<code>format_string</code>.</p></td>
    </tr>
    <tr>
      <th>empty</th>
      <td><p>The string to display when the numeric data is not available.
For desc layers, an unnamed character vector will populate within the
provided format string, set to the same width as the fitted numbers. Use a
single element character vector, with the element named '.overall' to
instead replace the whole string.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>f_str</code> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Format strings are one of the most powerful components of 'Tplyr'.
  Traditionally, converting numeric values into strings for presentation can
  consume a good deal of time. Values and decimals need to align between
  rows, rounding before trimming is sometimes forgotten - it can become a
  tedious mess that is realistically not an important part of the analysis
  being performed. 'Tplyr' makes this process as simple as we can, while
  still allowing flexibility to the user.</p>
<p>Tplyr provides both manual and automatic decimal precision formatting. The
  display of the numbers in the resulting data frame is controlled by the
  <code>format_string</code> parameter. For manual precision, just like dummy
  values may be presented on your mocks, integer and decimal precision is
  specified by the user providing a string of 'x's for how you'd like your
  numbers formatted. If you'd like 2 integers with 3 decimal places, you
  specify your string as 'xx.xxx'. 'Tplyr' does the work to get the numbers
  in the right place.</p>
<p>To take this a step further, automatic decimal precision can also be
  obtained based on the collected precision within the data. When creating
  tables where results vary by some parameter, different results may call for
  different degrees of precision. To use automatic precision, use a single
  'a' on either the integer and decimal side. If you'd like to use increased
  precision (i.e. you'd like mean to be collected precision +1), use 'a+1'.
  So if you'd like both integer and and decimal precision to be based on the
  data as collected, you can use a format like 'a.a' - or for collected+1
  decimal precision, 'a.a+1'.  You can mix and match this with manual formats
  as well, making format strings such as 'xx.a+1'.</p>
<p>If you want two numbers on the same line, you provide two sets of x's. For
  example, if you're presenting a value like "mean (sd)" - you could provide
  the string 'xx.xx (xx.xxx)', or perhaps 'a.a+1 (a.a+2). Note that you're
  able to provide  different integer lengths and different decimal precision
  for the two values. Each format string is independent and relates only to
  the format specified.</p>
<p>The other parameters of the <code>f_str</code> call specify what values should
  fill the x's. <code>f_str</code> objects are used slightly differently between
  different layers. When declaring a format string within a count layer,
  <code>f_str</code> expects to see the values <code>n</code> and (if desired)
  <code>pct</code>, which specifies the formatting for your n's and percent values.
  But in descriptive statistic layers, <code>f_str</code> parameters refer to the
  names of the summaries being performed, either by built in defaults, or
  custom summaries declared using <code><a href='set_custom_summaries.html'>set_custom_summaries</a></code>. See
  <code><a href='set_format_strings.html'>set_format_strings</a></code> for some more notes about layers specific
  implementation.</p>
<p>Count and shift layers frequencies and percentages can be specified with
  'n' and 'pct' respectively. Distinct values can also be presented in count
  layers with the arguments 'distinct' and 'distinct_total'.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>f_str</span><span class='op'>(</span><span class='st'>"xx.x (xx.x)"</span>, <span class='va'>mean</span>, <span class='va'>sd</span><span class='op'>)</span>
</div><div class='output co'>#&gt; *** Format String ***
#&gt; xx.x (xx.x)
#&gt; *** vars, extracted formats, and settings ***
#&gt; mean formated as: xx.x
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; sd formated as: xx.x
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; Total Format Size: 11</div><div class='input'>
<span class='fu'>f_str</span><span class='op'>(</span><span class='st'>"a.a+1 (a.a+2)"</span>, <span class='va'>mean</span>, <span class='va'>sd</span><span class='op'>)</span>
</div><div class='output co'>#&gt; *** Format String ***
#&gt; a.a+1 (a.a+2)
#&gt; *** vars, extracted formats, and settings ***
#&gt; mean formated as: a.a+1
#&gt; 	integer length: 0
#&gt; 	decimal length: 1
#&gt; sd formated as: a.a+2
#&gt; 	integer length: 0
#&gt; 	decimal length: 2
#&gt; Total Format Size: 13</div><div class='input'>
<span class='fu'>f_str</span><span class='op'>(</span><span class='st'>"xx.a (xx.a+1)"</span>, <span class='va'>mean</span>, <span class='va'>sd</span><span class='op'>)</span>
</div><div class='output co'>#&gt; *** Format String ***
#&gt; xx.a (xx.a+1)
#&gt; *** vars, extracted formats, and settings ***
#&gt; mean formated as: xx.a
#&gt; 	integer length: 2
#&gt; 	decimal length: 0
#&gt; sd formated as: xx.a+1
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; Total Format Size: 13</div><div class='input'>
<span class='fu'>f_str</span><span class='op'>(</span><span class='st'>"xx.x, xx.x, xx.x"</span>, <span class='va'>q1</span>, <span class='va'>median</span>, <span class='va'>q3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; *** Format String ***
#&gt; xx.x, xx.x, xx.x
#&gt; *** vars, extracted formats, and settings ***
#&gt; q1 formated as: xx.x
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; median formated as: xx.x
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; q3 formated as: xx.x
#&gt; 	integer length: 2
#&gt; 	decimal length: 1
#&gt; Total Format Size: 16</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eli Miller, Mike Stackhouse, Ashley Tarasiewicz, Nathan Kosiba.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


