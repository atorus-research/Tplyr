<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is used when calculating pct in count or shift layers. The
percentages default to the treatment variable and any column variables but
can be calculated on any variables passed to target_var, treat_var, by, or
cols."><title>Set variables used in pct denominator calculation — set_denoms_by • Tplyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set variables used in pct denominator calculation — set_denoms_by"><meta property="og:description" content="This function is used when calculating pct in count or shift layers. The
percentages default to the treatment variable and any column variables but
can be calculated on any variables passed to target_var, treat_var, by, or
cols."><meta property="og:image" content="https://atorus-research.github.io/Tplyr/reference/figures/Atorus_Stickers_vF_Tplyr.png"><meta property="og:image:alt" content="Tplyr Hex Sticker"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@AtorusR"><meta name="twitter:site" content="@AtorusR"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165685385-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165685385-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Tplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/Tplyr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Table Vignettes</h6>
    <a class="dropdown-item" href="../articles/table.html">Tplyr Table Properties</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Layer Vignettes</h6>
    <a class="dropdown-item" href="../articles/desc.html">Descriptive Statistic Layers</a>
    <a class="dropdown-item" href="../articles/count.html">Count Layers</a>
    <a class="dropdown-item" href="../articles/shift.html">Shift Layers</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Helpers</h6>
    <a class="dropdown-item" href="../articles/riskdiff.html">Risk Difference</a>
    <a class="dropdown-item" href="../articles/sort.html">Sorting a Tplyr Table</a>
    <a class="dropdown-item" href="../articles/options.html">Tplyr Options</a>
    <a class="dropdown-item" href="../articles/layer_templates.html">Layer Templates</a>
    <a class="dropdown-item" href="../articles/styled-table.html">Producing a Styled Table</a>
    <a class="dropdown-item" href="../articles/denom.html">Totals, Missings, and Denominators</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Metadata</h6>
    <a class="dropdown-item" href="../articles/metadata.html">Tplyr Metadata</a>
    <a class="dropdown-item" href="../articles/custom-metadata.html">Creating Custom Tplyr Metadata</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/atorus-research/Tplyr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Set variables used in pct denominator calculation</h1>
      <small class="dont-index">Source: <a href="https://github.com/atorus-research/Tplyr/blob/main/R/shift_bindings.R" class="external-link"><code>R/shift_bindings.R</code></a></small>
      <div class="d-none name"><code>set_denoms_by.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is used when calculating pct in count or shift layers. The
percentages default to the treatment variable and any column variables but
can be calculated on any variables passed to target_var, treat_var, by, or
cols.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_denoms_by</span><span class="op">(</span><span class="va">e</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>e</dt>
<dd><p>A count/shift layer object</p></dd>


<dt>...</dt>
<dd><p>Unquoted variable names</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The modified layer object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default has matrix of treatment group, additional columns,</span></span></span>
<span class="r-in"><span><span class="co"># and by variables sum to 1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_shift</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span>row<span class="op">=</span><span class="va">gear</span>, column<span class="op">=</span><span class="va">carb</span><span class="op">)</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span><span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xxx (xx.xx%)"</span>, <span class="va">n</span>, <span class="va">pct</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_label1 row_label2 var1_0_1 var1_…¹ var1_…² var1_…³ var1_…⁴ var1_…⁵ var1_…⁶</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 4          3          <span style="color: #949494;">"</span>  1 (3… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 4          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  4 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 4          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 6          3          <span style="color: #949494;">"</span>  2 (5… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 6          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 6          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> 8          3          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  4 (… <span style="color: #949494;">"</span>  3 (… <span style="color: #949494;">"</span>  5 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> 8          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> 8          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 8 more variables: var1_1_2 &lt;chr&gt;, var1_1_3 &lt;chr&gt;, var1_1_4 &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   var1_1_6 &lt;chr&gt;, var1_1_8 &lt;chr&gt;, ord_layer_index &lt;int&gt;, ord_layer_1 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ord_layer_2 &lt;dbl&gt;, and abbreviated variable names ¹​var1_0_2, ²​var1_0_3,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​var1_0_4, ⁴​var1_0_6, ⁵​var1_0_8, ⁶​var1_1_1</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_shift</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span>row<span class="op">=</span><span class="va">gear</span>, column<span class="op">=</span><span class="va">carb</span><span class="op">)</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span><span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xxx (xx.xx%)"</span>, <span class="va">n</span>, <span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">set_denoms_by</span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span><span class="op">)</span> <span class="co"># Row % sums to 1</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_label1 row_label2 var1_0_1 var1_…¹ var1_…² var1_…³ var1_…⁴ var1_…⁵ var1_…⁶</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 4          3          <span style="color: #949494;">"</span>  1 (1… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 4          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  4 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 4          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 6          3          <span style="color: #949494;">"</span>  2 (1… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 6          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 6          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> 8          3          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  4 (… <span style="color: #949494;">"</span>  3 (… <span style="color: #949494;">"</span>  5 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> 8          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> 8          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 8 more variables: var1_1_2 &lt;chr&gt;, var1_1_3 &lt;chr&gt;, var1_1_4 &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   var1_1_6 &lt;chr&gt;, var1_1_8 &lt;chr&gt;, ord_layer_index &lt;int&gt;, ord_layer_1 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ord_layer_2 &lt;dbl&gt;, and abbreviated variable names ¹​var1_0_2, ²​var1_0_3,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​var1_0_4, ⁴​var1_0_6, ⁵​var1_0_8, ⁶​var1_1_1</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="tplyr_table.html">tplyr_table</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="va">am</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="layer_attachment.html">add_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="layer_constructors.html">group_shift</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span>row<span class="op">=</span><span class="va">gear</span>, column<span class="op">=</span><span class="va">carb</span><span class="op">)</span>, by<span class="op">=</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="set_format_strings.html">set_format_strings</a></span><span class="op">(</span><span class="fu"><a href="f_str.html">f_str</a></span><span class="op">(</span><span class="st">"xxx (xx.xx%)"</span>, <span class="va">n</span>, <span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">set_denoms_by</span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span>, <span class="va">am</span><span class="op">)</span> <span class="co"># % within treatment group sums to 1</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="build.html">build</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_label1 row_label2 var1_0_1 var1_…¹ var1_…² var1_…³ var1_…⁴ var1_…⁵ var1_…⁶</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 4          3          <span style="color: #949494;">"</span>  1 (1… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 4          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  4 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 4          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> 6          3          <span style="color: #949494;">"</span>  2 (1… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> 6          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  2 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> 6          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> 8          3          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  4 (… <span style="color: #949494;">"</span>  3 (… <span style="color: #949494;">"</span>  5 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> 8          4          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> 8          5          <span style="color: #949494;">"</span>  0 ( … <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (… <span style="color: #949494;">"</span>  0 (…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 8 more variables: var1_1_2 &lt;chr&gt;, var1_1_3 &lt;chr&gt;, var1_1_4 &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   var1_1_6 &lt;chr&gt;, var1_1_8 &lt;chr&gt;, ord_layer_index &lt;int&gt;, ord_layer_1 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ord_layer_2 &lt;dbl&gt;, and abbreviated variable names ¹​var1_0_2, ²​var1_0_3,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​var1_0_4, ⁴​var1_0_6, ⁵​var1_0_8, ⁶​var1_1_1</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Eli Miller, Mike Stackhouse, Ashley Tarasiewicz, Nathan Kosiba.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

